<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tsb.dao.SysPrivilegeDao">

    <resultMap id="sysPrivilege" type="com.tsb.entity.SysPrivilege">
        <!--@Table sys_privilege-->
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="privilegeName" column="privilege_name" jdbcType="VARCHAR"/>
        <result property="privilegeUrl" column="privilege_url" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="selectByUser" resultMap="sysPrivilege">
        select id,
               privilege_name privilegeName,
               privilege_url privilegeUrl
        from sys_role_privilege
        where privilege_name like concat('%', #{userName}, '%')
            and privilege_url = #{privilegeUrl}
    </select>

</mapper>